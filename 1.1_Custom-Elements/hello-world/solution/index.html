<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>hello-world WC</title>
  </head>
  <body>
    <!-- 
      Steps to create a reusable web component:
      1. Define a class for the component.
      2. Create a constructor for initial setup.
      3. Implement lifecycle callbacks for DOM interactions.
      4. Register the custom element with a tag name.
      5. Add the custom element to the HTML to use it.
      6. Handle changes to observed attributes.
    -->
  
    <!-- Use the custom element with and without attributes -->
    <hello-world></hello-world>
    <hello-world a="56" b="hola"></hello-world>
  
    <script>
      // 1. Define a class for the component.
      class HelloWorld extends HTMLElement {

        constructor() {
          super(); // Always call super first in constructor
        }
  
        // Invoked when the custom element is first connected to the document's DOM
        // If there are two elements it is connected twice a & b
        connectedCallback() {
          console.log('I have been added to the DOM'); 
        }
  
        // Invoked when the custom element is disconnected from the document's DOM
        disconnectedCallback() {
          console.log('I have been removed from the DOM'); 
        }
  
        // Cuando el atributo a ó b cambie, se ejecuta la función attributeChangedCallback()
        static get observedAttributes() {
          return ['a', 'b'];
        }
  
        // Invoked when one of the custom element's attributes is added, removed, or changed
        attributeChangedCallback(attributeName, oldValue, newValue) {
          console.log(`Attribute ${attributeName} changed from ${oldValue} to ${newValue}`);
        }
      }
  
      // Define the custom element, associating the tag 'hello-world' with the HelloWorld class
      window.customElements.define('hello-world', HelloWorld);
  
    </script>  
  </body>
</html>
